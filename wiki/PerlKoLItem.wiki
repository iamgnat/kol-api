#summary KoL::Item module
#sidebar PerlTOC

<wiki:toc max_depth="3" />

= Introduction =

This module is not intended for usage by bot builders. It is a helper module to other modules to simplify the creating of a type specific item objects. When the _new()_ method is called, rather than return an object of type _KoL::Item_ it returns the type specific object that it created for you (e.g. _KoL::Item::Booze_).

The object returned is based on the "Type" from the item description. Where there is no type, [PerlKoLItemMisc KoL::Item::Misc] is used. If the type name contains "weapon", [PerlKoLItemWeapon KoL::Item::Weapon] is used and it's sub-type value is set to the full type string. For all other types, spaces and special characters are removed and the first letter of each word is capitalized (e.g. "off-hand item" -> "[PerlKoLItemOffHandItem OffHandItem]").

==Objects==

  * [PerlKoLItemAccessory KoL::Item::Accessory]
  * [PerlKoLItemBooze KoL::Item::Booze]
  * [PerlKoLItemCombatItem KoL::Item::CombatItem]
  * [PerlKoLItemFamiliarEquipment KoL::Item::FamiliarEquipment]
  * [PerlKoLItemFood KoL::Item::Food]
  * [PerlKoLItemHat KoL::Item::Hat]
  * [PerlKoLItemMisc KoL::Item::Misc]
  * [PerlKoLItemOffHandItem KoL::Item::OffHandItem]
  * [PerlKoLItemPants KoL::Item::Pants]
  * [PerlKoLItemPotion KoL::Item::Potion]
  * [PerlKoLItemShirt KoL::Item::Shirt]
  * [PerlKoLItemUsable KoL::Item::Usable]
  * [PerlKoLItemWeapon KoL::Item::Weapon]

==Methods==
===new(%args)===
This is the pseudo-constructor of the object.

The argument is a hash that can contain the following information:

|| *Key* || *Required* || *Description* ||
|| controller || Yes || The object that is acting as the controller for the item being created. ||
|| name || No || The name of the item to create. ||
|| descid || No || The description id of the item to create. ||

The _controller_ object must meet the following criteria:

  * Contains a [PerlKoLSession KoL::Session] reference named _session_.
  * Contains a [PerlKoLLogging KoL::Logging] reference named _log_.
  * Has a method named _update()_ that does not require any arguments.

When called, it is expected that the _update()_ method of _controller_ will perform the proper work to re-fetch the most current information. It is suggested that when updating, the controlling object set the _count_ to zero for all items it controls. A _count_ of 0 should indicate to the bot builder that there are no more of these items left in the controlled area (e.g. inventory, closet, display case, clan stash, or mall store).

Either the _name_ or _descid_ element must be present. If _descid_ is present, it looks up the item information using 'desc_item.php'. If _descid_ is not present, it queries the KoL Wiki for the _name_ to get the _descid_ and then looks up in the information as described.

See the individual item types for additional elements that are relevant to their specific type.

*Example:*

{{{
my $item = KoL::Item->new('controller' => $self, 'name' => 'bottle of gin');
}}}
